{"version":3,"sources":["flux/reducer.js","flux/store.js","services/selectors.js","services/apiClient.js","flux/actions.js","components/calendar/CalendarHeader.js","components/icons/peak.js","components/icons/early.js","components/calendar/Cell.js","components/calendar/CalendarRow.js","components/calendar/Calendar.js","components/sidebar/SearchField.js","components/icons/exit.js","components/sidebar/Button.js","components/sidebar/SeasonPicker.js","components/sidebar/PricingToggle.js","components/sidebar/Sidebar.js","components/App.js","index.js"],"names":["initialState","marketData","appTitle","searchInput","view","activeSeason","activeMonth","activeSegment","pricingMode","reducer","state","action","type","payload","segment","month","Store","React","createContext","StoreProvider","props","useReducer","dispatch","Provider","value","children","getMonthsInSeason","months","monthsInSeason","order","forEach","key","push","buildSegmentMap","id","label","getMarketData","a","async","url","axios","get","response","data","console","error","setActiveSeason","season","CalendarHeader","cellMap","useContext","header","map","index","cellIndex","className","subHeader","segments","cellKey","isActive","cell","onClick","setActiveSegment","PeakIcon","width","height","viewBox","stroke","strokeWidth","fill","fillRule","transform","cx","cy","r","EarlyIcon","Cell","mPos","showPrice","cellContent","statusDisplay","status","charAt","toUpperCase","slice","class","unit","classNames","CalendarRow","vegetable","cells","Object","keys","body","includes","Calendar","useEffect","fetchMarketData","vegetables","peak","early","late","off","none","sortVegetables","length","filteredVegetables","veg","formattedLabel","toLowerCase","formattedInput","trim","filterVegetables","bodyCellIndex","headerCellIndex","buildCellMap","SearchField","placeholder","onChange","e","userInput","applySearchFilter","target","ExitIcon","version","strokeLinecap","strokeLinejoin","d","Button","active","activeClass","SeasonPicker","PricingToggle","updateValue","mode","setPricingMode","Sidebar","href","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9fdceaa7.chunk.js","sourcesContent":["/**\n * Reducer\n */\n\n export const initialState = {\n   marketData: null,\n   appTitle: 'Harvest Calendar',\n   searchInput: '',\n   view: 'season',\n   activeSeason: 1,\n   activeMonth: 'MAY',\n   activeSegment: 2,\n   pricingMode: false,\n };\n\n export const reducer = (state, action) => {\n   switch (action.type) {\n   case 'FETCH_MARKET_DATA':\n     return {...state, marketData: action.payload };\n    case 'SET_ACTIVE_SEASON':\n      return {...state, activeSeason: action.payload, activeMonth: null, activeSegment: null };\n    case 'SET_ACTIVE_SEGMENT':\n      return {...state, activeSegment: action.payload.segment, activeMonth: action.payload.month}\n    case 'SET_PRICING_MODE':\n      return {...state, pricingMode: action.payload}\n    case 'APPLY_SEARCH_FILTER':\n      return {...state, searchInput: action.payload };\n   default:\n     return {...state};\n   }\n };\n","/**\n * Store\n */\n\nimport React from 'react';\nimport { initialState, reducer } from './reducer';\n\nexport const Store = React.createContext();\n\nexport const StoreProvider = (props) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return <Store.Provider value={{state, dispatch}}>{props.children}</Store.Provider>;\n};\n","/**\n * Utility Methods\n **/\n\n/**\n * getMonthsInSeason\n * @description gets the months for the active season\n * @param <Object> state - application state\n */\nexport const getMonthsInSeason = (state) => {\n  let { months } = state.marketData;\n  let { activeSeason } = state;\n  let monthsInSeason = [];\n  let order = [];\n  switch (activeSeason) {\n    // Spring\n    case 1:\n      order = ['MAR', 'APR', 'MAY', 'JUN'];\n      break;\n    // Summer\n    case 2:\n      order = ['JUN', 'JUL', 'AUG', 'SEP'];\n      break;\n    // Fall\n    case 3:\n      order = ['SEP', 'OCT', 'NOV', 'DEC'];\n      break;\n    // Winter\n    case 4:\n      order = ['DEC', 'JAN', 'FEB', 'MAR'];\n      break;\n    default:\n      order = ['MAR', 'APR', 'MAY', 'JUN'];\n  }\n  order.forEach((key) => {\n    months.forEach((month) => {\n      if (month.key === key) {\n        monthsInSeason.push(month);\n      }\n    });\n  });\n  return monthsInSeason;\n};\n\n\n/**\n * sortVegetables\n * @description sorts the vegetables by custom algorithm to determine how in season it is\n * @param <Object> state - application state\n */\nexport const sortVegetables = (state) => {\n  let {marketData, activeMonth, activeSegment} = state;\n  let peak = [];\n  let early = [];\n  let late = [];\n  let off = [];\n  let none = [];\n  if (activeSegment) {\n    marketData.vegetables.forEach((vegetable) => {\n      vegetable.mPos.forEach((mPos) => {\n        if (`${mPos.month}-${mPos.segment}` === `${activeMonth}-${activeSegment}` ) {\n          if ( mPos.status === 'peak') peak.push(vegetable);\n          if ( mPos.status === 'early') early.push(vegetable);\n          if ( mPos.status === 'late') late.push(vegetable);\n          if ( mPos.status === 'off') off.push(vegetable);\n          if ( mPos.status === 'none') none.push(vegetable);\n        }\n      });\n    });\n    let sortedVegetables = [...peak, ...early, ...late, ...off, ...none ];\n    return sortedVegetables;\n  } else {\n    return marketData.vegetables;\n  }\n};\n\n/**\n * filterVegetables\n * @description filters the vegetables to the user's search query\n * @param <Object> state - application state\n */\nexport const filterVegetables = (state, vegetables) => {\n  let { searchInput } = state;\n  if (searchInput !== '' && searchInput.length > 2) {\n    let filteredVegetables = [];\n    vegetables.forEach((veg) => {\n      let formattedLabel = veg.label.toLowerCase();\n      let formattedInput = searchInput.trim().toLowerCase();\n      if (formattedLabel.includes(formattedInput)) {\n        filteredVegetables.push(veg);\n      }\n    });\n    return filteredVegetables;\n  } else {\n    return vegetables;\n  }\n}\n\n/**\n * buildCellMap\n * @description maps the market data to the css grid\n * @param <Object> state - application state\n */\nexport const buildCellMap = (state) => {\n  const segments = buildSegmentMap();\n  const months = getMonthsInSeason(state);\n  let cellMap = {body: {}, header: {}};\n  let bodyCellIndex = 1;\n  let headerCellIndex = 1;\n  months.forEach((month) => {\n    cellMap.header[month.key] = headerCellIndex;\n    headerCellIndex++;\n    segments.forEach((segment) => {\n      let key = `${month.key}-${segment.id}`;\n      cellMap.body[key] = bodyCellIndex;\n      bodyCellIndex++;\n    });\n   });\n  return cellMap;\n}\n\nexport const buildSegmentMap = () => {\n  const segments = [\n    {id: 1, key: 'early', label: 'Early'},\n    {id: 2, key: 'mid', label: 'Mid', },\n    {id: 3, key: 'late', label: 'Late'}\n  ];\n  return segments;\n};\n","/**\n * API Client\n */\n\nimport axios from 'axios';\n\nconst getBaseURL = () => {\n  return 'http://localhost:3300';\n}\n\nexport const getMarketData = async () => {\n  const url = `${getBaseURL()}/api/market_data`;\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n}\n","/**\n * Actions\n */\n\nimport { getMarketData } from '../services/apiClient';\n\nexport const fetchMarketData = async (dispatch) => {\n    const marketData =  await getMarketData();\n    return dispatch({\n      type: 'FETCH_MARKET_DATA',\n      payload: marketData\n    });\n};\n\nexport const setActiveSeason = (dispatch, season) => {\n  dispatch({\n    type: 'SET_ACTIVE_SEASON',\n    payload: season\n  });\n}\n\nexport const setActiveSegment = (dispatch, month, segment) => {\n  dispatch({\n    type: 'SET_ACTIVE_SEGMENT',\n    payload: {segment: segment.id, month: month.key}\n  })\n}\n\nexport const setPricingMode = (dispatch, mode) => {\n  dispatch({\n    type: 'SET_PRICING_MODE',\n    payload: mode\n  })\n}\n\nexport const applySearchFilter = (dispatch, userInput) => {\n  dispatch({\n    type: 'APPLY_SEARCH_FILTER',\n    payload: userInput\n  });\n}\n","import React from 'react';\nimport { Store } from '../../flux/store';\nimport { getMonthsInSeason, buildSegmentMap } from '../../services/selectors';\nimport { setActiveSegment } from '../../flux/actions';\n\nimport '../../styles/CalendarHeader.scss'\n\nfunction CalendarHeader({view, cellMap, months}) {\n    const { state, dispatch } = React.useContext(Store);\n    // Build header cells\n    const header = months.map((month, index) => {\n      let cellIndex = cellMap.header[month.key];\n      let id = `header-month-${month.key}`;\n      return (<div key={month.id} id={id} className={`header-cell cell-${cellIndex}`}>{month.label}</div>);\n    });\n    // Build subHeader cells\n    let subHeader = [];\n    months.forEach((month) => {\n      let segments = buildSegmentMap();\n      let cellIndex = 1;\n      segments.forEach((segment) => {\n        let cellKey = `${month.key}-${segment.id}`\n        let isActive = ( cellKey === `${state.activeMonth}-${state.activeSegment}`) ? 'active' : '';\n        let cell = (\n          <div key={cellKey} className={`sub-header-cell cell-${cellIndex} ${isActive}`} onClick={() => setActiveSegment(dispatch, month, segment)}>\n            {segment.label}\n          </div>\n        );\n        subHeader.push(cell);\n        cellIndex++;\n      });\n    })\n    return (\n      <div className=\"calendar-header\">\n        <div className=\"header-cell cell-label\">Vegetable</div>\n        { header }\n        <div className=\"sub-header-cell cell-label\"></div>\n        { subHeader }\n      </div>\n    );\n}\n\nexport default CalendarHeader;\n","import React from 'react';\n\nfunction PeakIcon () {\n  return (\n    <div className=\"icon\">\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 200 200\" >\n        <g id=\"Home\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g id=\"Icons\" transform=\"translate(-311.000000, -387.000000)\">\n                <g id=\"peak\" transform=\"translate(311.000000, 387.000000)\">\n                    <circle id=\"Oval\" stroke=\"#687E55\" strokeWidth=\"20\" fill=\"#829B6B\" cx=\"100\" cy=\"100\" r=\"80\"></circle>\n\n                </g>\n            </g>\n        </g>\n      </svg>\n    </div>\n  );\n}\n\nexport default PeakIcon;\n","import React from 'react';\n\nfunction EarlyIcon () {\n  return (\n    <div className=\"icon\">\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 200 200\" >\n        <g id=\"Home\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g id=\"Icons\" transform=\"translate(-311.000000, -387.000000)\">\n                <g id=\"peak\" transform=\"translate(311.000000, 387.000000)\">\n                    <circle id=\"Oval\" stroke=\"#908C5C\" strokeWidth=\"20\" fill=\"#F3ECA0\" cx=\"100\" cy=\"100\" r=\"80\"></circle>\n                </g>\n            </g>\n        </g>\n      </svg>\n    </div>\n  );\n}\n\nexport default EarlyIcon;\n","import React from 'react';\nimport PeakIcon  from '../icons/peak';\nimport LateIcon  from '../icons/late';\nimport EarlyIcon from '../icons/early';\nimport { Store } from '../../flux/store';\nimport '../../styles/Cell.scss'\n\n\nfunction Cell ({mPos, cellIndex, id, isActive, showPrice}) {\n\n  const { state, dispatch } = React.useContext(Store);\n\n  let cellContent = '';\n  const statusDisplay = mPos.status.charAt(0).toUpperCase() + mPos.status.slice(1)\n\n  if (state.pricingMode === true) {\n    if (mPos.value > 0) {\n      cellContent = (<div>{mPos.value}<span class=\"unit\">{mPos.unit}</span></div>);\n    } else {\n      cellContent = '-';\n    }\n  } else if (mPos.status === 'none' || mPos.status === 'off') {\n    cellContent = '-';\n  } else if (mPos.status === 'early') {\n    cellContent = (<div><EarlyIcon /><span class=\"status\">{statusDisplay}</span></div>);\n  } else if (mPos.status === 'peak') {\n    cellContent = (<div><PeakIcon /><span class=\"status\">{statusDisplay}</span></div>);\n  } else if (mPos.status === 'late') {\n    cellContent = (<div><EarlyIcon /><span class=\"status\">{statusDisplay}</span></div>);\n  }\n\n  let classNames = `${mPos.status}`;\n  if (isActive) {\n    classNames = `${classNames} active`;\n  }\n  if (state.pricingMode === true) {\n    classNames= `${classNames} price`;\n  }\n\n\n  return (<div id={id} className={`calendar-cell cell-${cellIndex} ${classNames}`} >{cellContent}</div>);\n\n};\n\nexport default Cell;\n","import React from 'react';\nimport Cell from './Cell';\nimport { Store } from '../../flux/store';\nimport { getMonthsInSeason } from '../../services/selectors';\n\nimport '../../styles/CalendarRow.scss'\n\nfunction CalendarRow({vegetable, cellMap}) {\n  const { state, dispatch } = React.useContext(Store);\n  const months = getMonthsInSeason(state);\n  let cells = [];\n  vegetable.mPos.forEach((mPos) => {\n    let cellKey = `${mPos.month}-${mPos.segment}`;\n    if (Object.keys(cellMap.body).includes(cellKey)) {\n      let id = `${vegetable.key}-${cellKey}`;\n      let cellIndex = cellMap.body[cellKey];\n      let isActive = (cellKey === `${state.activeMonth}-${state.activeSegment}`) ? 'active' : '';\n      let showPrice = state.pricingMode === true ? 'showPrice' : '';\n      cells.push(<Cell key={id} mPos={mPos} id={id} cellIndex={cellIndex} isActive={isActive} showPrice={showPrice}/>);\n    }\n  });\n  return (\n    <div className=\"calendar-row\">\n      <div className={`calendar-cell cell-label`}>{vegetable.label}</div>\n      { cells }\n    </div>\n  );\n}\n\nexport default CalendarRow;\n","import React from 'react';\nimport CalendarHeader from './CalendarHeader';\nimport CalendarRow from './CalendarRow';\nimport { Store } from '../../flux/store';\nimport { fetchMarketData } from '../../flux/actions';\nimport { getMonthsInSeason, sortVegetables, filterVegetables } from '../../services/selectors';\nimport { buildCellMap } from '../../services/selectors';\n\nimport '../../styles/Calendar.scss'\n\nfunction Calendar() {\n\n  const { state, dispatch } = React.useContext(Store);\n  React.useEffect(() => { fetchMarketData(dispatch) }, []);\n  if (state.marketData !== null) {\n    let vegetables = sortVegetables(state);\n    vegetables = filterVegetables(state, vegetables);\n    const monthsInSeason = getMonthsInSeason(state);\n    const cellMap = buildCellMap(state);\n    return (\n      <div className=\"calendar\">\n        <CalendarHeader\n          months={monthsInSeason}\n          cellMap={cellMap}\n          view={state.view} />\n        <div className=\"calendar-body\">\n          {\n            vegetables.map((vegetable) => {\n              return <CalendarRow key={vegetable.id} vegetable={vegetable} cellMap={cellMap}/>\n            })\n          }\n        </div>\n      </div>\n    );\n  } else {\n    return 'Loading...';\n  }\n\n}\n\nexport default Calendar;\n","import React from 'react';\nimport { Store } from '../../flux/store';\nimport { applySearchFilter } from '../../flux/actions';\n\nimport '../../styles/SearchField.scss'\n\nfunction SearchField({placeholder}) {\n\n  const { state, dispatch } = React.useContext(Store);\n\n  return (\n    <div className=\"search-field\">\n      <input type=\"text\"\n        placeholder={placeholder}\n        onChange={ (e) => applySearchFilter(dispatch, e.target.value)}\n        value={state.searchInput} />\n    </div>\n  );\n}\n\nexport default SearchField;\n","import React from 'react';\n\nfunction ExitIcon () {\n  return (\n    <div className=\"icon\">\n      <svg width=\"15px\" height=\"14px\" viewBox=\"0 0 15 14\" version=\"1.1\">\n        <g id=\"Home\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <g id=\"Desktop-HD\" transform=\"translate(-36.000000, -265.000000)\" stroke=\"#353535\" strokeWidth=\"2.42\">\n                <g id=\"Sidebar\">\n                    <g id=\"Options\" transform=\"translate(22.000000, 223.000000)\">\n                        <g id=\"Spring\" transform=\"translate(4.000000, 34.000000)\">\n                            <g id=\"Exit\" transform=\"translate(11.606299, 10.000000)\">\n                                <path d=\"M11.3385827,0 L0,10\" id=\"Path-8\"></path>\n                                <path d=\"M11.3385827,0 L0,10\" id=\"Path-8-Copy\" transform=\"translate(5.669291, 5.000000) scale(-1, 1) translate(-5.669291, -5.000000) \"></path>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </g>\n      </svg>\n    </div>\n  );\n}\n\nexport default ExitIcon;\n","import React from 'react';\nimport ExitIcon from '../icons/exit';\nimport '../../styles/Button.scss'\n\nfunction Button ({label, type, active, onClick}) {\n\n  let activeClass = active ? 'active' : '';\n\n  return (\n    <button className={`${type} ${activeClass}`} onClick={onClick}>\n      { active ? <ExitIcon /> : '' }\n      {label}\n    </button>\n  );\n\n}\n\nexport default Button;\n","import React from 'react';\nimport Button from './Button';\nimport { setActiveSeason } from '../../flux/actions';\nimport { Store } from '../../flux/store';\n\nimport '../../styles/SeasonPicker.scss'\n\nfunction SeasonPicker() {\n\n  const { state, dispatch } = React.useContext(Store);\n\n  return (\n    <div className=\"season-picker\">\n      <h4>Season</h4>\n      <Button label={'Spring'} type={'primary'} active={state.activeSeason === 1} onClick={() => setActiveSeason(dispatch, 1)}/>\n      <Button label={'Summer'} type={'primary'} active={state.activeSeason === 2} onClick={() => setActiveSeason(dispatch, 2)} />\n      <Button label={'Fall'}   type={'primary'} active={state.activeSeason === 3} onClick={() => setActiveSeason(dispatch, 3)} />\n      <Button label={'Winter'} type={'primary'} active={state.activeSeason === 4} onClick={() => setActiveSeason(dispatch, 4)}/>\n    </div>\n  );\n\n}\n\nexport default SeasonPicker;\n","import React from 'react';\nimport { Store } from '../../flux/store';\nimport {setPricingMode} from '../../flux/actions';\n\nimport '../../styles/PricingToggle.scss';\n\nfunction PricingToggle() {\n\n   const { state, dispatch } = React.useContext(Store);\n\n   let status = '';\n   let label = '';\n   let updateValue = '';\n\n   if (state.pricingMode === false ) {\n     status = 'off';\n     label = 'OFF';\n     updateValue = true;\n   } else if (state.pricingMode === true) {\n     status = 'on';\n     label = ' ON ';\n     updateValue = false;\n   }\n\n  return (\n    <div className=\"pricing-toggle\">\n      <h4>Pricing Mode</h4>\n      <a class={`toggle ${status}`} onClick={() => setPricingMode(dispatch, updateValue)}>{label}</a>\n    </div>\n  );\n}\n\nexport default PricingToggle;\n","import React from 'react';\nimport { Store } from '../../flux/store';\nimport SearchField from './SearchField';\nimport SeasonPicker from './SeasonPicker';\nimport PricingToggle from './PricingToggle';\n\nimport '../../styles/Sidebar.scss'\n\nfunction Sidebar() {\n\n  const { state } = React.useContext(Store);\n\n  return (\n    <div className=\"sidebar\">\n        <h2>{state.appTitle}</h2>\n        <span>For Willamette Valley Farmers Markets</span>\n        <SearchField placeholder=\"Search...\"/>\n        <SeasonPicker />\n        <PricingToggle />\n        < hr />\n        <div className=\"menu-item\"><a href=\"#\">How to use this tool</a></div>\n        <div className=\"menu-item\"><a href=\"#\">Contribute your data</a></div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React from 'react';\nimport Calendar from './calendar/Calendar';\nimport Sidebar from './sidebar/Sidebar';\n\nimport { StoreProvider } from '../flux/store';\n\nimport '../styles/App.scss'\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <div className=\"app\">\n        <Sidebar />\n        <div className=\"main\">\n          <Calendar />\n          <div className=\"acknowledgement\"><span>Developed by <a href=\"http://ddluc.com\">DDLUC Engineering, LLC</a></span></div>\n        </div>\n      </div>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}